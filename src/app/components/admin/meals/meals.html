<div class="container">
    <div class="row">
        <!-- SIGNUP =============================== -->
        <h1>Your collection of meals</h1>
        <div class="col-sm-6">
            <div class="jumbotron">
                <p class="h2"><i class="glyphicon glyphicon-plus-sign"></i> Add a meal</p>
                <form ng-submit="meals.check()" novalidate>
                    <formly-form model="meals.model.formly" fields="meals.fields" form="meals.form">
                    </formly-form>
                    <div class="form-group">
                        <label>Choose a picture</label>
                        <div class="well">

                            <div class="drop-box" ngf-drop ng-model="meals.model.picture"
                                 ngf-drag-over-class="dragover" ngf-multiple="false"
                                 ngf-pattern="'image/*'">Drop image file here</div>
                            <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>
                            <p class="text-center">or</p>
                            <div class="btn btn-sm btn-primary btn-block" ngf-select ng-model="meals.model.picture" accept="image/*" ngf-max-size="1MB">
                                Select Files
                            </div>
                        </div>
                        <!-- show a preview -->
                        <div class="well" ng-show="meals.model.picture">
                            <img class="img-responsive" ngf-src="meals.model.picture">
                            <button type="button" ng-click="meals.resetPictureModel()" class="glyphicon glyphicon-remove"></button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" ng-disabled="meals.form.$invalid">
                        Submit
                    </button>
                </form>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="text-center"  ng-repeat="meal in meals.items">
                <div class="meal-nav pull-right">
                    <button type="button" ng-click="meals.edit(meal.instance.id)" class="glyphicon glyphicon-edit"></button>
                    <button type="button" ng-click="meals.destroy({id: meal.instance.id, title: meal.instance.title})" class="glyphicon glyphicon-remove"></button>
                </div>
                <h2 class="page-header">{{meal.instance.title}}</h2>
                <a class="" href="{{meal.instance.picture[0].file}}" rel="lightbox">
                    <div class="meal-thumbnail center-block" style="background-size:cover; background-image:url({{meal.instance.picture[0].file}});" alt="" class="img-responsive img-circle"/>
                </a>
                <p>{{meal.instance.desc}}</p>
            </div>
        </div>
    </div>
</div>